(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[724],{7582:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/float-toolbar",function(){return n(3782)}])},3782:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return j}});var r=n(5893),o=n(7294);function i(t){var e,n,r="";if("string"===typeof t||"number"===typeof t)r+=t;else if("object"===typeof t)if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=i(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function l(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=i(t))&&(r&&(r+=" "),r+=e);return r}var a=n(6486),s=function(){return(0,r.jsxs)("svg",{className:"fill-white cursor-pointer",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{fill:"none",d:"M0 0h24v24H0V0z"}),(0,r.jsx)("path",{d:"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H8c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h5.78c2.07 0 3.96-1.69 3.97-3.77.01-1.53-.85-2.84-2.15-3.44zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z"})]})},c=function(){return(0,r.jsxs)("svg",{className:"fill-white cursor-pointer",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{fill:"none",d:"M0 0h24v24H0V0z"}),(0,r.jsx)("path",{d:"M10 5.5c0 .83.67 1.5 1.5 1.5h.71l-3.42 8H7.5c-.83 0-1.5.67-1.5 1.5S6.67 18 7.5 18h5c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5h-.71l3.42-8h1.29c.83 0 1.5-.67 1.5-1.5S17.33 4 16.5 4h-5c-.83 0-1.5.67-1.5 1.5z"})]})},u=function(){return(0,r.jsxs)("svg",{className:"fill-white cursor-pointer",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{fill:"none",d:"M0 0h24v24H0V0z"}),(0,r.jsx)("path",{d:"M12.79 16.95c3.03-.39 5.21-3.11 5.21-6.16V4.25C18 3.56 17.44 3 16.75 3s-1.25.56-1.25 1.25v6.65c0 1.67-1.13 3.19-2.77 3.52-2.25.47-4.23-1.25-4.23-3.42V4.25C8.5 3.56 7.94 3 7.25 3S6 3.56 6 4.25V11c0 3.57 3.13 6.42 6.79 5.95zM5 20c0 .55.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1H6c-.55 0-1 .45-1 1z"})]})},f=[{action:"bold",icon:(0,r.jsx)(s,{})},{action:"italic",icon:(0,r.jsx)(c,{})},{action:"underline",icon:(0,r.jsx)(u,{})}];function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){d(t,e,n[e])}))}return t}var p=function(t){var e=t.split("+"),n={isCtrl:!1},r=!0,o=!1,i=void 0;try{for(var l,a=e[Symbol.iterator]();!(r=(l=a.next()).done);r=!0){var s=l.value;switch(s){case"ctrl":n.isCtrl=!0;break;case"esc":n.keyCode="Escape";break;default:n.keyCode=s}}}catch(c){o=!0,i=c}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n},x=function(){console.log("useHotkeys");var t=(0,o.useState)({}),e=t[0],n=t[1],r=(0,o.useCallback)((function(t,r){null!=e[t]&&n((function(e){return delete e[t],h({},e)})),n((function(e){return h({},e,d({},t,r))}))}),[e]);return(0,o.useEffect)((function(){var t=function(t){var n=!0,r=!1,o=void 0;try{for(var i,l=Object.keys(e)[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){var a=i.value,s=p(a),c=e[a];t.key===s.keyCode&&t.ctrlKey===s.isCtrl&&(t.preventDefault(),c())}}catch(u){r=!0,o=u}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}t.stopPropagation()};return window.addEventListener("keydown",t),function(){window.removeEventListener("keydown",t)}}),[e]),{pushHotkey:r}};function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function v(t){return function(t){if(Array.isArray(t))return y(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var b=function(t){var e=t.isShow,n=t.top,i=t.left;(0,o.useEffect)((function(){var t=document.getSelection();e&&s(t)}),[e]);var s=function(t){var e=c(t);["bold","underline","italic"].forEach((function(t){var n=e.includes(t);y(t,n)}))},c=function(t){var e=t.anchorNode.parentElement,n=t.focusNode.parentElement;return e.style.cssText+n.style.cssText},u=function(t,e){y(t,!e),b(t)},d=(0,o.useState)([]),h=d[0],p=d[1],y=function(t,e){p(e?function(e){return v(e).concat([t])}:function(e){return(0,a.remove)(e,(function(e){return e!==t}))})},b=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;document.execCommand("styleWithCSS",!1),document.execCommand(t,!1,e)},m=x().pushHotkey;(0,o.useEffect)((function(){m("ctrl+b",(function(){w("bold")})),m("ctrl+i",(function(){w("italic")})),m("ctrl+u",(function(){w("underline")}))}),[h]);var w=function(t){var e=h.includes(t);u(t,e)};return(0,r.jsx)("div",{className:l("bg-gradient-to-r from-slate-900 to-slate-700 absolute rounded px-2 pt-2 -translate-y-full -translate-x-2/4\t",[e?"block":"hidden"]),style:{top:n+"px",left:i+"px"},children:f.map((function(t){var e=t.action,n=h.includes(e);return(0,r.jsx)("button",{type:"button",className:l("bg-transparent px-1 hover:opacity-100",[n?"opacity-100":"opacity-50"]),onClick:function(){return u(e,n)},children:t.icon},t.action)}))})},m=(0,o.memo)(b),w=function(){var t=(0,o.useState)(!1),e=t[0],n=t[1],r=(0,o.useState)({top:0,left:0}),i=r[0],l=r[1],a=(0,o.useCallback)((function(){var t=document.getSelection(),e=s(t);e&&"Range"===t.type?(l({top:e.y-5,left:e.x+e.width/2}),n(!0)):n(!1)}),[]),s=function(t){var e=t.getRangeAt(0).getClientRects();if(!e.length)return!1;var n=e[0];return{x:n.x,y:n.y,width:n.width}};return{moveToolbar:a,isShow:e,rects:i}},g=function(){var t=w(),e=t.moveToolbar,n=t.isShow,o=t.rects;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{contentEditable:"true",spellCheck:"false",className:"bg-slate-100 p-8 max-w-lg my-8 mx-auto",onSelect:e,onMouseUp:e,children:[(0,r.jsxs)("div",{children:["\u9078\u53d6\u4e0b\u9762\u6587\u5b57\u4e26\u6a19\u8a18",(0,r.jsx)("span",{style:{fontWeight:"bold"},children:"\u7c97\u9ad4"}),"\u3001",(0,r.jsx)("span",{style:{fontStyle:"italic"},children:"\u659c\u9ad4"}),"\u6216",(0,r.jsx)("span",{style:{textDecorationLine:"underline"},children:"\u5e95\u7dda"}),"\u3002"]}),(0,r.jsx)("br",{}),(0,r.jsxs)("div",{children:["\u9078\u53d6\u6587\u5b57\u6309\u4e0b"," ",(0,r.jsx)("span",{className:"bg-slate-300 text-slate-600 rounded shadow-2xl p-1",style:{boxShadow:"rgba(0, 0, 0, 0.3) 0px -2px 0px inset, rgba(0, 0, 0, 0.4) 0px 1px 1px"},children:"ctrl + b"})," ","\u5feb\u6377\u9375\u6a19\u793a",(0,r.jsx)("span",{style:{fontWeight:"bold"},children:"\u7c97\u9ad4"}),"\u3002",(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),"\u9078\u53d6\u6587\u5b57\u6309\u4e0b"," ",(0,r.jsx)("span",{className:"bg-slate-300 text-slate-600 rounded shadow-2xl p-1",style:{boxShadow:"rgba(0, 0, 0, 0.3) 0px -2px 0px inset, rgba(0, 0, 0, 0.4) 0px 1px 1px"},children:"ctrl + i"})," ","\u5feb\u6377\u9375\u6a19\u793a",(0,r.jsx)("span",{style:{fontStyle:"italic"},children:"\u659c\u9ad4"}),"\u3002",(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),"\u9078\u53d6\u6587\u5b57\u6309\u4e0b"," ",(0,r.jsx)("span",{className:"bg-slate-300 text-slate-600 rounded shadow-2xl p-1",style:{boxShadow:"rgba(0, 0, 0, 0.3) 0px -2px 0px inset, rgba(0, 0, 0, 0.4) 0px 1px 1px"},children:"ctrl + u"})," ","\u5feb\u6377\u9375\u6a19\u793a",(0,r.jsx)("span",{style:{textDecorationLine:"underline"},children:"\u5e95\u7dda"}),"\u3002"]}),(0,r.jsx)("hr",{className:"my-3"}),(0,r.jsx)("p",{className:"mb-6",children:(0,r.jsx)("span",{children:"\u968e\u5c64\u6a23\u5f0f\u8868 (Cascading Stylesheets\uff1bCSS) \u53ef\u7528\u4ee5\u5851\u9020\u7db2\u7ad9\u7684\u7279\u6b8a\u98a8\u683c\u3002\u4f8b\u5982\u9019\u6bb5\u6587\u5b57\u8981\u7528\u4e00\u822c\u7684\u9ed1\u8272\uff0c\u6216\u662f\u6539\u7528\u7d05\u8272\u6a19\u660e\u91cd\u9ede\uff1f\u67d0\u6bb5\u91cd\u8981\u5167\u5bb9\u61c9\u8a72\u7f6e\u65bc\u756b\u9762\u7684\u4f55\u8655\uff1f\u60f3\u7528\u4ec0\u9ebc\u80cc\u666f\u5716\u7247\u53ca\u984f\u8272\u88dd\u98fe\u4f60\u7684\u7db2\u7ad9\uff1f\u3008CSS \u57fa\u672c\u6982\u5ff5\u3009\u5e36\u4f60\u5165\u9580\u3002"})}),(0,r.jsx)("p",{children:(0,r.jsx)("span",{children:"\u8ddf HTML \u4e00\u6a23\uff0cCSS \u65e2\u975e\u6a19\u6e96\u7a0b\u5f0f\u8a9e\u8a00\uff0c\u4e5f\u4e0d\u662f\u6a19\u8a18\u8a9e\u8a00, \u800c\u662f\u4e00\u7a2e\u98a8\u683c\u9801\u9762\u8a9e\u8a00\uff08style sheet language\uff09\uff1a\u5b83\u80fd\u8b93\u4f60\u5728 HTML \u6587\u4ef6\u4e2d\u7684\u5143\u7d20\uff08element\uff09\u4e0a\u5957\u7528\u4e0d\u540c\u7684\u9801\u9762\u6a23\u5f0f\uff08style\uff09\u3002\u4f8b\u5982, \u7576\u60f3\u8981\u5c07 HTML \u9801\u9762\u4e0a\u6240\u6709\u6bb5\u843d\u5143\u7d20\uff08paragraph elements\uff09\u88e1\u7684\u6587\u5b57\u5168\u90e8\u8f49\u63db\u6210\u7d05\u8272\uff0c\u4f60\u6703\u5728CSS\u88e1\u5beb:"})})]}),(0,r.jsx)(m,{isShow:n,top:o.top,left:o.left})]})},j=function(){return(0,r.jsx)(g,{})}}},function(t){t.O(0,[662,774,888,179],(function(){return e=7582,t(t.s=e);var e}));var e=t.O();_N_E=e}]);